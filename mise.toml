[env]
_.file = ".env"

[tools]

[tools."http:arduino-cli"]
version = "1.3.1"

[tools."http:arduino-cli".platforms]
linux-x64 = { url = "https://github.com/arduino/arduino-cli/releases/download/v{version}/arduino-cli_{version}_Linux_64bit.tar.gz" }

[tasks."arduino:run"]
depends = [
  "arduino:compile",
  "arduino:upload",
  "arduino:monitor",
]

[tasks."arduino:compile"]
run = """
#!/usr/bin/env bash
arduino-cli compile --config-file arduino-cli.yaml
"""

[tasks."arduino:upload"]
run = """
#!/usr/bin/env bash
arduino-cli upload --config-file arduino-cli.yaml
"""

[tasks."arduino:monitor"]
run = """
#!/usr/bin/env bash
arduino-cli monitor --config-file arduino-cli.yaml
"""
